# -*- coding: utf-8 -*-
"""hw6_matplot.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1Dt6XGq_ZO4JhHobD95f2eKBZZhh-Ulf7

# 1. ë°ì´í„°ì‹œê°í™” ê°•ì˜ìë£Œ, p.18 3ì°¨ì› ì‚°ì ë„ë¥¼ í”„ë¡œê·¸ë˜ë°í•˜ê³  ê·¸ë¦¼ì„ ì¶œë ¥í•˜ì‹œì˜¤.
"""

from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt
import numpy as np
n = 100
xmin, xmax, ymin, ymax, zmin, zmax = 0, 20, 0, 20, 0, 50
cmin, cmax = 0, 2
xs = np.array([(xmax - xmin) * np.random.random_sample() + xmin for i in range(n)])
ys = np.array([(ymax - ymin) * np.random.random_sample() + ymin for i in range(n)])
zs = np.array([(zmax - zmin) * np.random.random_sample() + zmin for i in range(n)])
color = np.array([(cmax - cmin) * np.random.random_sample() + cmin for i in range(n)])
fig = plt.figure(figsize=(6,6))
ax = fig.add_subplot(111, projection = '3d')
ax.scatter(xs, ys, zs, c = color, marker = 'o', s = 15, cmap = 'Greens')
plt.show()

"""# 2. subplot í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì•„ë˜ì˜ í‘œì™€ ê°™ì´ ìœ„ì¹˜í•˜ë„ë¡ ê·¸ë˜í”„ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤. ê·¸ë˜í”„ì˜ xì¶• ë²”ìœ„ëŠ” ë³¸ì¸ì´ ì•Œì•„ì„œ ê²°ì •í•  ê²ƒ."""

import matplotlib.pyplot as plt
import numpy as np
from mpl_toolkits.mplot3d import Axes3D
import numpy as np
from numpy import random

plt.subplot(3,2,1)
# sineê·¸ë˜í”„ 
X = np.linspace(0,4*np.pi,200)
Y = np.sin(X)
plt.plot(X,Y)


plt.subplot(3,2,2)
# cosine ê·¸ë˜í”„
Z = np.linspace(0,4*np.pi,200)
F = np.cos(Z)
plt.plot(Z,F)


plt.subplot(3,2,3)
# sin í•¨ìˆ˜
X = np.linspace(0,4*np.pi,200)
Y = np.sin(X)
plt.plot(X,Y)
# cos í•¨ìˆ˜
Z = np.linspace(0,4*np.pi,200)
F = np.cos(Z)
plt.plot(Z,F)


plt.subplot(3,2,4)
# cos í•¨ìˆ˜
Z = np.linspace(0,4*np.pi,200)
F = 2 * np.cos(Z)
plt.plot(Z,F)
# sin í•¨ìˆ˜
X = np.linspace(0,4*np.pi,200)
Y = 0.5 * np.sin(X)
plt.plot(X,Y)


plt.subplot(3,2,5)
fig = plt.figure()
ax = Axes3D(fig)
X = np.arange(-5,5,0.2)
Y = np.arange(-5,5,0.2)
X, Y = np.meshgrid(X, Y)  # X, Y ê°’ì„ ì§êµì¢Œí‘œê³„ë¡œ ë³€í™˜
Z = np.sqrt(X**2 + Y**2)  # Z = X^2 + Y^2 í•¨ìˆ˜ ìƒì„±
ax.plot_surface(X, Y, Z, rstride = 1, cstride = 1, cmap = 'summer')  # 3D ê·¸ë˜í”„ ìƒì„±
ax.contourf(X, Y, Z, zdir = 'z', offset = 0, cmap = plt.cm.summer)  # ë“±ê³ ì„  ìƒì„±

plt.subplot(3,2,6)
# cos í•¨ìˆ˜
Z = np.linspace(0,4*np.pi,200)
signal = 2 * np.cos(Z)
noise = 0.23* (random.rand(len(Z)) - 0.5)
noisy_signal = signal + noise
#fig, ax = plt.subplots(figsize = (6, 2.5))
#ax.plot(Z, noisy_signal)
# sin í•¨ìˆ˜
X = np.linspace(0,4*np.pi,200)
signal2 = 0.5 * np.sin(X)
noise2 = 0.23* (random.rand(len(X)) - 0.5)
noisy_signal2 = signal2 + noise2
fig, ax = plt.subplots(figsize = (6, 2.5))
# ax.plot(X, noisy_signal2)
# ê·¸ë˜í”„ ê²¹ì³ì„œ ê·¸ë¦¬ê¸°
plt.plot(Z, noisy_signal)
plt.plot(X, noisy_signal2)

"""## subplots_sources"""

fig = plt.figure()
ax = Axes3D(fig)
X = np.arange(-5,5,0.2)
Y = np.arange(-5,5,0.2)
X, Y = np.meshgrid(X, Y)  # X, Y ê°’ì„ ì§êµì¢Œí‘œê³„ë¡œ ë³€í™˜
Z = np.sqrt(X**2 + Y**2)  # Z = X^2 + Y^2 í•¨ìˆ˜ ìƒì„±
ax.plot_surface(X, Y, Z, rstride = 1, cstride = 1, cmap = 'summer')  # 3D ê·¸ë˜í”„ ìƒì„±
ax.contourf(X, Y, Z, zdir = 'z', offset = 0, cmap = plt.cm.summer)  # ë“±ê³ ì„  ìƒì„±

# sineê·¸ë˜í”„ 
import matplotlib.pyplot as plt
import numpy as np

X = np.linspace(0,4*np.pi,200)
Y = np.sin(X)
plt.plot(X,Y)
plt.show()

# cosine ê·¸ë˜í”„
Z = np.linspace(0,4*np.pi,200)
F = np.cos(Z)
plt.plot(Z,F)
plt.show()

# sineê·¸ë˜í”„ì™€ consine ê·¸ë˜í”„(ë‹¨ ë‹¤ë¥¸ ìƒ‰ê¹”ë¡œ êµ¬ë¶„)
import matplotlib.pyplot as plt
import numpy as np

# íŒŒë€ìƒ‰ = sin í•¨ìˆ˜
X = np.linspace(0,4*np.pi,200)
Y = np.sin(X)
plt.plot(X,Y)

# ì£¼í™©ìƒ‰ = cos í•¨ìˆ˜
Z = np.linspace(0,4*np.pi,200)
F = np.cos(Z)
plt.plot(Z,F)
plt.show()

# 2 cos(10ğœ‹ğ‘¡) + 0.5sin (5ğœ‹ğ‘¡)
import matplotlib.pyplot as plt
import numpy as np

# íŒŒë€ìƒ‰ = cos í•¨ìˆ˜
Z = np.linspace(0,4*np.pi,200)
F = 2 * np.cos(Z)
plt.plot(Z,F)


# ì£¼í™©ìƒ‰ = sin í•¨ìˆ˜
X = np.linspace(0,4*np.pi,200)
Y = 0.5 * np.sin(X)
plt.plot(X,Y)
plt.show()

# ê°•ì˜ìë£Œ p. 28ì˜ ê·¸ë¦¼ ì¶œë ¥_ 3ì°¨ì› ê·¸ë˜í”„
from mpl_toolkits.mplot3d import Axes3D
import numpy as np

fig = plt.figure()
ax = Axes3D(fig)
X = np.arange(-5,5,0.2)
Y = np.arange(-5,5,0.2)
X, Y = np.meshgrid(X, Y)  # X, Y ê°’ì„ ì§êµì¢Œí‘œê³„ë¡œ ë³€í™˜
Z = np.sqrt(X**2 + Y**2)  # Z = X^2 + Y^2 í•¨ìˆ˜ ìƒì„±
ax.plot_surface(X, Y, Z, rstride = 1, cstride = 1, cmap = 'summer')  # 3D ê·¸ë˜í”„ ìƒì„±
ax.contourf(X, Y, Z, zdir = 'z', offset = 0, cmap = plt.cm.summer)  # ë“±ê³ ì„  ìƒì„±

plt.show()

# 2 cos(10ğœ‹ğœ‹ğ‘¡ğ‘¡) + 0.5 sin(5ğœ‹ğœ‹ğ‘¡ğ‘¡) ì— í‰ê·  0.23, í‘œì¤€í¸ì°¨ 0.5ì¸ ê°€ìš°ì‹œì•ˆ ë…¸ì´ì¦ˆë¥¼ í•©ì‚°í•œ ê·¸ë˜í”„
import matplotlib.pyplot as plt
import numpy as np
from numpy import random

# íŒŒë€ìƒ‰ = cos í•¨ìˆ˜
Z = np.linspace(0,4*np.pi,200)
signal = 2 * np.cos(Z)
noise = 0.23* (random.rand(len(Z)) - 0.5)
noisy_signal = signal + noise
# fig, ax = plt.subplots(figsize = (6, 2.5))
# ax.plot(Z, noisy_signal)

# ì£¼í™©ìƒ‰ = sin í•¨ìˆ˜
X = np.linspace(0,4*np.pi,200)
signal2 = 0.5 * np.sin(X)
noise2 = 0.23* (random.rand(len(X)) - 0.5)
noisy_signal2 = signal2 + noise2
fig, ax = plt.subplots(figsize = (6, 2.5))
# ax.plot(X, noisy_signal2)

# ê·¸ë˜í”„ ê²¹ì³ì„œ ê·¸ë¦¬ê¸°
plt.plot(Z, noisy_signal)
plt.plot(X, noisy_signal2)

"""# Signal_Practice"""

# ê¹¨ë—í•œ signal
import matplotlib.pyplot as plt
import numpy as np
from numpy import random

t = np.linspace(0, 1, 1001)
signal = np.sin(2*np.pi*2*t)
# noise = 0.5 * (random.rand(len(t)) - 0.5)
noisy_signal = signal # + noise
fig, ax = plt.subplots(figsize = (6, 2.5))
ax.plot(t, noisy_signal)

# ê¹¨ë—í•˜ì§€ ì•ŠëŠ” signal
import matplotlib.pyplot as plt
import numpy as np
from numpy import random

t = np.linspace(0, 1, 1001)
signal = np.sin(2*np.pi*2*t)
noise = 0.5 * (random.rand(len(t)) - 0.5)
noisy_signal = signal + noise
fig, ax = plt.subplots(figsize = (6, 2.5))
ax.plot(t, noisy_signal)

# 2 cos(10ğœ‹ğœ‹ğ‘¡ğ‘¡) + 0.5 sin(5ğœ‹ğœ‹ğ‘¡ğ‘¡) ì— í‰ê·  0.23, í‘œì¤€í¸ì°¨ 0.5ì¸ ê°€ìš°ì‹œì•ˆ ë…¸ì´ì¦ˆë¥¼ í•©ì‚°í•œ ê·¸ë˜í”„
# ê·¸ë˜í”„ ê°ê° ë³´ì´ê¸°
import matplotlib.pyplot as plt
import numpy as np
from numpy import random

# íŒŒë€ìƒ‰ = cos í•¨ìˆ˜
Z = np.linspace(0,4*np.pi,200)
signal = 2 * np.cos(Z)
noise = 0.23* (random.rand(len(Z)) - 0.5)
noisy_signal = signal + noise
fig, ax = plt.subplots(figsize = (6, 2.5))
ax.plot(Z, noisy_signal)


# ì£¼í™©ìƒ‰ = sin í•¨ìˆ˜
X = np.linspace(0,4*np.pi,200)
signal2 = 0.5 * np.sin(X)
noise2 = 0.23* (random.rand(len(X)) - 0.5)
noisy_signal2 = signal2 + noise2
fig, ax = plt.subplots(figsize = (6, 2.5))
ax.plot(X, noisy_signal2)

# plt.plot(Z, noisy_signal)
# plt.plot(X, noisy_signal2)

"""# 3. ë°ì´í„°ì‹œê°í™” ê°•ì˜ìë£Œ, p.29ì˜ ê·¸ë˜í”„ê°€ ì¶œë ¥ë˜ë„ë¡ í”„ë¡œê·¸ë˜ë°"""

import matplotlib.pyplot as plt
import numpy as np

def make_linear(w = 0.5, b = 0.8, size = 50, noise = 1.0):
  x = np.arange(size)
  y = w * x + b
  noise = np.random.uniform(-abs(noise), abs(noise), size = y.shape)
  yy =y + noise
  m, b = np.polyfit(x, y, 1)
  plt.plot(x, m*x + b,'r', label='y = 1.5*x + 0.8')
  plt.scatter(x,yy, label='data')
  plt.legend()
  return x, yy


plt.plot([1,2,3,4],[2,3,5,10],)

x , y = make_linear(size = 50, w = 1.5, b = 0.8, noise = 5.5)
x_bar = x.mean()
y_bar = y.mean()

calculated_weight = ((x - x_bar) * (y - y_bar)).sum() / ((x - x_bar)** 2).sum()
print('w: {:.2f}'.format(calculated_weight))
calculated_bias = y_bar - calculated_weight * x_bar
print('b: {:.2f}'.format(calculated_bias))

"""# 4. ì•„ë˜ ë§í¬ì— ì¡´ì¬í•˜ëŠ” ë°ì´í„°ì— ëŒ€í•´ ì•„ë˜ í”„ë¡œê·¸ë˜ë°ì„ ì™„ì„±í•˜ì‹œì˜¤.
+ ë§í¬: https://github.com/dknife/ML/raw/main/data/weather.csv


"""

# read file
import pandas as pd
path =  '/content/'
weather_file = path + 'weather.csv'
weather = pd.read_csv(weather_file, index_col = 0, encoding = 'CP949')
# save to Pandas DataFrame
weather = pd.DataFrame(weather)
# indexë¥¼ columnìœ¼ë¡œ 
weather['ì¼ì‹œ'] = weather.index
weather

"""## (a) 8ì›”, 9ì›”, 10ì›”ì˜ ì¼ë³„ í‰ê·  ê¸°ì˜¨ì´ ë³€í™”í•˜ëŠ” ê·¸ë˜í”„ë¥¼ í•˜ë‚˜ì˜ plotìœ¼ë¡œ colorì™€ marker ë˜ëŠ” linestyleì„ ë‹¤ë¥´ê²Œ í•˜ì—¬ ê·¸ë¦¬ì‹œì˜¤. (ë°˜ë“œì‹œ matplotlib ì‚¬ìš©í•´ì•¼í•¨)"""

import matplotlib.pyplot as plt
# 8ì›”
weather_aug = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-08-')])
y = list(weather_aug['í‰ê· ê¸°ì˜¨'])

# 9ì›”
weather_sep = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-09-')])
z = list(weather_sep['í‰ê· ê¸°ì˜¨'])

# 10ì›”
weather_oct = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-10-')])
f = list(weather_oct['í‰ê· ê¸°ì˜¨'])

# x = np.arange(1,32,1)
plt.plot(y, color = 'orange', marker = '*', linewidth =0.5)
plt.plot(z, color = 'seagreen', marker = '*', linewidth =1.0)
plt.plot(f, color = 'peru', marker = '^', linewidth =2.0)

"""### sources"""

# 8ì›”
weather_aug = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-08-')])
weather_aug_new = weather_aug[['í‰ê· ê¸°ì˜¨','ì¼ì‹œ']]
weather_aug_new

# 9ì›”
weather_sep = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-09-')])
weather_sep_new = weather_sep[['í‰ê· ê¸°ì˜¨','ì¼ì‹œ']]
weather_sep_new

# 10ì›”
weather_oct = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-10-')])
weather_oct_neweather_oct_neww = weather_oct[['í‰ê· ê¸°ì˜¨','ì¼ì‹œ']]

"""## (b) (a)ë¬¸ì œì—ì„œ ë²”ë¡€ì— 8ì›”, 9ì›”, 10ì›”ì˜ í‰ê·  ê¸°ì˜¨ì´ í‘œì‹œë˜ë„ë¡ í”„ë¡œê·¸ë˜ë° í•˜ì‹œì˜¤. (ë²”ë¡€ì˜ ìœ„ì¹˜ëŠ” ë³¸ì¸ì˜ ì„ í˜¸ëŒ€ë¡œ ì§€ì •í•  ê²ƒ)"""

import matplotlib.pyplot as plt
# 8ì›”
weather_aug = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-08-')])
y = list(weather_aug['í‰ê· ê¸°ì˜¨'])
# 9ì›”
weather_sep = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-09-')])
z = list(weather_sep['í‰ê· ê¸°ì˜¨'])
# 10ì›”
weather_oct = pd.DataFrame(weather[weather['ì¼ì‹œ'].str.contains('-10-')])
f = list(weather_oct['í‰ê· ê¸°ì˜¨'])

# x = np.arange(1,32,1)
plt.plot(y, color = 'orange', marker = '*', linewidth =0.5, label='August_mean_temp')
plt.plot(z, color = 'seagreen', marker = '*', linewidth =1.0, label='Septemberr_mean_temp')
plt.plot(f, color = 'peru', marker = '^', linewidth =2.0, label='October_mean_temp')
plt.legend(loc =(1,0)) #ë²”ë¡€ ìœ„ì¹˜ ì„ ì •_ê·¸ë˜í”„ë¥¼ ê°€ë¦¬ì§€ ì•Šê¸° ìœ„í•´ ë°”ê¹¥ì— ìœ„ì¹˜í•˜ê²Œ í•¨.